[gd_scene load_steps=24 format=3 uid="uid://cgvpfct6wwpu"]

[ext_resource type="Script" uid="uid://cnfovkk3iyo0b" path="res://levels/World.gd" id="1_world"]
[ext_resource type="PackedScene" uid="uid://dxw7cledbpiia" path="res://addons/proto-csgs/proto_csg_box_3d.tscn" id="5_lely3"]
[ext_resource type="Texture2D" uid="uid://cej3yoosomfd2" path="res://addons/proto-csgs/textures/dark/texture_13.png" id="6_l1j2j"]
[ext_resource type="PackedScene" uid="uid://dilcl7aco8lba" path="res://addons/proto-csgs/proto_csg_cylinder_3d.tscn" id="7_rw0xj"]
[ext_resource type="PackedScene" uid="uid://cq4x7y1r5f1vn" path="res://entity/enemy/enemy.tscn" id="8_enemy"]
[ext_resource type="PackedScene" uid="uid://qgv0bohj4yn5" path="res://addons/proto-csgs/proto_csg_sphere_3d.tscn" id="8_rw0xj"]
[ext_resource type="Texture2D" uid="uid://cd3fcinti1un5" path="res://addons/proto-csgs/textures/dark/texture_01.png" id="8_t2w4v"]
[ext_resource type="PackedScene" uid="uid://cc5ajeewqwnxs" path="res://entity/button/Button.tscn" id="9_ke1pg"]
[ext_resource type="PackedScene" uid="uid://yjolybe6ur3n" path="res://addons/proto-csgs/proto_csg_torus_3d.tscn" id="9_t2w4v"]
[ext_resource type="PackedScene" uid="uid://bi06a3jhw5hdl" path="res://entity/door/Door.tscn" id="10_fxwcl"]
[ext_resource type="PackedScene" uid="uid://c6pmvjpktonre" path="res://entity/moving platform/moving_platform.tscn" id="11_fxwcl"]
[ext_resource type="PackedScene" uid="uid://e1uchhgfmyxn" path="res://levels/pause_menu.tscn" id="12_u5t8i"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_r3fl7"]
sky_top_color = Color(0.4586504, 0.47041243, 0.14559841, 1)
sky_horizon_color = Color(1.1757305, 1.2172787, 1.0943995, 1)
ground_bottom_color = Color(0.5533603, 0.7077918, 0.54108834, 1)
ground_horizon_color = Color(1.1757305, 1.2172787, 1.0943995, 1)

[sub_resource type="Sky" id="Sky_jka67"]
sky_material = SubResource("ProceduralSkyMaterial_r3fl7")

[sub_resource type="Environment" id="Environment_i5arm"]
background_mode = 2
sky = SubResource("Sky_jka67")
tonemap_mode = 2
ssao_enabled = true
sdfgi_enabled = true
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_rw0xj"]
vertices = PackedVector3Array(-5.3531265, 0.5319196, 7.0899467, -4.6031265, 0.5319196, 6.0899467, -4.6031265, 0.5319196, -36.410053, -48.603127, 0.5319196, -36.410053, -48.603127, 0.5319196, 7.0899467, -3.1031265, 0.5319196, 7.5899467, 0.14687347, 0.5319196, 7.8399467, 0.39687347, 0.5319196, 7.0899467, -3.6031265, 0.5319196, 6.0899467, 5.8968735, 0.5319196, 2.0899467, 6.8968735, 0.5319196, -36.410053, 2.3968735, 0.5319196, 7.5899467, 6.3968735, 0.5319196, 4.8399467, 5.3968735, 0.5319196, 4.0899467, 2.1468735, 0.5319196, 7.0899467, 6.8968735, 0.5319196, 1.8399467, 5.3968735, 0.5319196, 2.8399467, 7.8968735, 0.5319196, 2.0899467, 8.396873, 0.5319196, 3.3399467, 32.146873, 0.5319196, 3.3399467, 32.146873, 0.5319196, -36.410053, 6.3968735, 3.2819195, 3.3399467, 6.6468735, 3.2819195, 3.8399467, 7.3968735, 3.2819195, 3.5899467, 7.3968735, 3.2819195, 3.0899467, 2.1468735, 0.5319196, 9.089947, 3.6468735, 0.5319196, 9.589947, 7.6468735, 0.5319196, 4.8399467, 8.396873, 0.5319196, 4.0899467, 2.8968735, 0.5319196, 12.339947, 2.1468735, 0.5319196, 12.339947, 2.1468735, 0.5319196, 41.089947, 3.8968735, 0.5319196, 11.089947, 32.146873, 0.5319196, 41.089947, 0.6468735, 0.5319196, 9.839947, 1.3968735, 0.5319196, 9.089947, 0.14687347, 0.5319196, 8.839947, 0.6468735, 0.5319196, 11.589947, -3.6031265, 0.5319196, 8.339947, -4.8531265, 0.5319196, 8.339947, 1.3968735, 0.5319196, 12.339947, -48.603127, 0.5319196, 41.089947)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 4), PackedInt32Array(2, 4, 3), PackedInt32Array(6, 5, 7), PackedInt32Array(7, 5, 8), PackedInt32Array(8, 1, 9), PackedInt32Array(9, 1, 2), PackedInt32Array(9, 2, 10), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(10, 15, 9), PackedInt32Array(16, 13, 14), PackedInt32Array(7, 8, 14), PackedInt32Array(14, 8, 16), PackedInt32Array(16, 8, 9), PackedInt32Array(19, 18, 17), PackedInt32Array(17, 15, 19), PackedInt32Array(19, 15, 10), PackedInt32Array(19, 10, 20), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 21), PackedInt32Array(25, 11, 26), PackedInt32Array(26, 11, 12), PackedInt32Array(26, 12, 27), PackedInt32Array(28, 18, 19), PackedInt32Array(31, 30, 29), PackedInt32Array(27, 28, 26), PackedInt32Array(26, 28, 32), PackedInt32Array(32, 28, 19), PackedInt32Array(29, 32, 31), PackedInt32Array(31, 32, 33), PackedInt32Array(33, 32, 19), PackedInt32Array(35, 34, 36), PackedInt32Array(34, 37, 36), PackedInt32Array(36, 37, 38), PackedInt32Array(38, 37, 39), PackedInt32Array(6, 36, 5), PackedInt32Array(5, 36, 38), PackedInt32Array(40, 30, 31), PackedInt32Array(37, 40, 39), PackedInt32Array(39, 40, 31), PackedInt32Array(39, 31, 0), PackedInt32Array(0, 31, 4), PackedInt32Array(4, 31, 41)]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rw0xj"]
resource_local_to_scene = true
albedo_texture = ExtResource("6_l1j2j")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ke1pg"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_t2w4v")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t2w4v"]
resource_local_to_scene = true
albedo_texture = ExtResource("6_l1j2j")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fxwcl"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_t2w4v")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_l1j2j"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_t2w4v")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u5t8i"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_t2w4v")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pi3ig"]
resource_local_to_scene = true
albedo_texture = ExtResource("8_t2w4v")
uv1_offset = Vector3(0.5, 0.5, 0.5)
uv1_triplanar = true

[node name="World" type="Node3D"]
script = ExtResource("1_world")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_i5arm")

[node name="PlayerSpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.8201668, 1.2299174, 3.8285599)

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.035248283, 0.9993786, 0, -0.9993786, -0.035248283, 7.7159305, 5.1388216, 1.1327496)
light_color = Color(0.9189686, 0.31877813, 0.3632018, 1)
light_energy = 12.67
light_indirect_energy = 1.825
spot_range = 9.924234
spot_angle = 33.8

[node name="SpotLight3D2" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.035248283, 0.9993786, 0, -0.9993786, -0.035248283, 8.169775, 5.1388216, 5.830983)
light_color = Color(0.45423466, 0.6224309, 5.7756904e-07, 1)
light_energy = 12.67
light_indirect_energy = 1.825
spot_range = 9.924234
spot_angle = 33.8

[node name="Enemy" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -12.373531, 1.4333858, 14.0595875)

[node name="Enemy8" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -14.989482, 1.4333858, 14.0595875)

[node name="Enemy9" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -16.989483, 1.4333858, 14.0595875)

[node name="Enemy10" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -9.628243, 1.4333858, 14.0595875)

[node name="Enemy11" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -6.7820435, 1.4333858, 14.0595875)

[node name="Enemy12" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(-0.9999896, 0, -0.0045553604, 0, 1, 0, 0.0045553604, 0, -0.9999896, -3.18182, 1.4333858, 14.0595875)

[node name="Enemy2" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.89952, 3.9312859, 3.3841286)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_rw0xj")

[node name="Objects" type="Node3D" parent="NavigationRegion3D"]

[node name="ProtoCSGBox3D" parent="NavigationRegion3D/Objects" instance=ExtResource("5_lely3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.1786375, 0.13091862, 2.283389)
size = Vector3(81.848976, 0.19799805, 78.38689)
material = SubResource("StandardMaterial3D_rw0xj")

[node name="ProtoCSGCylinder3D" parent="NavigationRegion3D/Objects" instance=ExtResource("7_rw0xj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2200894, 1.2482282, 7.247089)
height = 2.036621
material = SubResource("StandardMaterial3D_ke1pg")

[node name="ProtoCSGBox3D2" parent="NavigationRegion3D/Objects" instance=ExtResource("5_lely3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2052898, 0.5209333, 8.018943)
size = Vector3(1, 0.58203125, 0.77490234)
material = SubResource("StandardMaterial3D_t2w4v")

[node name="ProtoCSGTorus3D" parent="NavigationRegion3D/Objects" instance=ExtResource("9_t2w4v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.1588833, 1.7290738, 10.701202)
inner_radius = 0.82568514
material = SubResource("StandardMaterial3D_fxwcl")

[node name="ProtoCSGCylinder3D2" parent="NavigationRegion3D/Objects" instance=ExtResource("7_rw0xj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.9095893, 1.581236, 3.3801174)
radius = 0.87841797
height = 2.7026367
material = SubResource("StandardMaterial3D_l1j2j")

[node name="ProtoCSGSphere3D" parent="NavigationRegion3D/Objects" instance=ExtResource("8_rw0xj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.2440743, 1.6519368, 10.728936)
material = SubResource("StandardMaterial3D_u5t8i")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="NavigationRegion3D/Objects"]
transform = Transform3D(1, 0, 0, 0, 0.5550767, 0.83179915, 0, -0.83179915, 0.5550767, 2.357228, 5.4654217, 1.5737352)
light_energy = 0.12

[node name="ProtoCSGCylinder3D" parent="." instance=ExtResource("7_rw0xj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.1362246, 0.7460613, -1.7878871)
height = 1.0322876
material = SubResource("StandardMaterial3D_pi3ig")

[node name="Door" parent="." instance=ExtResource("10_fxwcl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.4856031, 0.24568641, -5.1007304)

[node name="Button" parent="." instance=ExtResource("9_ke1pg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.1766675, 1.7622054, -1.7301192)

[node name="Moving platform" parent="." instance=ExtResource("11_fxwcl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.3954964, 2.3145561, -6.7316456)

[node name="Button2" parent="." instance=ExtResource("9_ke1pg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.752934, 0.72991765, -0.8728819)

[node name="Spawn_Warrior" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.050519, 0.4341389, -0.09910452)
gizmo_extents = 0.17

[node name="Spawn_Rogue" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2485256, 3.6669278, 7.326443)

[node name="Spawn_Mage" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.1401184, 3.4322336, 10.744271)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("12_u5t8i")]
offset_left = -1.0
offset_top = -1.0
offset_right = -1.0
offset_bottom = -1.0

[node name="Enemy3" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1440573, 1.606957, 24.938908)
team = 0

[node name="Enemy4" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.271575, 1.606957, 24.938908)
team = 0

[node name="Enemy5" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.327851, 1.606957, 24.938908)
team = 0

[node name="Enemy6" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.427954, 1.606957, 24.938908)
team = 0

[node name="Enemy7" parent="." instance=ExtResource("8_enemy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.493993, 1.606957, 24.938908)
team = 0

[connection signal="_use" from="Button" to="Door" method="use"]
[connection signal="_use" from="Button2" to="Moving platform" method="use"]
[connection signal="_use" from="Button2" to="Moving platform" method="_use"]
